<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gen Z Translator</title>
  <link rel="icon" type="image/x-icon" href="favicon2.png">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    
    <h1 class="title-with-logo">
  <img src="favicon2.png" alt="Gen Z Logo" class="title-logo">
  Gen Z Translator
</h1>
    <div class="theme-toggle" id="theme-toggle" title="Toggle dark mode">
  <div class="toggle-icon"></div>
</div>

  </header>

  <main>
    <div class="translator-box">
      <div class="model-info" id="model-info">Model: ...</div>
      <div class="labels">
        <span id="label-left">Normal Language</span>
        <button id="switchBtn" title="Swap Languages">⇄</button>
        <span id="label-right">Gen Z</span>
      </div>

      <div class="textareas">
        <textarea id="inputText" placeholder="Enter text to translate..."></textarea>
        <textarea id="outputText" placeholder="Translation appears here..." readonly></textarea>
      </div>
      <div class="model-select">
        <label for="modelSelect">Choose Model:</label>
        <select id="modelSelect">
          <option value="deepseek/deepseek-r1-0528-qwen3-8b:free">DeepSeek (Qwen-3)</option>
          <option value="mistralai/mistral-small-3.2-24b-instruct:free">Mistral</option>
          <option value="qwen/qwen1.5-7b-chat:free">Qwen 1.5</option>
          <option value="qwen/qwen3-32b-04-28:free">Qwen 3</option>
          <option value="auto">Auto (Try All)</option>
  </select>
</div>

      <button id="translateBtn">Translate ➜</button>
    </div>
  </main>

  <footer>
    <p>This AI-powered tool is for fun. Not always accurate — use responsibly ✌️</p>
  </footer>

  <script>
    let direction = "to_genz";

    document.getElementById("switchBtn").onclick = () => {
      direction = direction === "to_genz" ? "to_normal" : "to_genz";
      const left = document.getElementById("label-left");
      const right = document.getElementById("label-right");
      [left.textContent, right.textContent] = [right.textContent, left.textContent];

      const input = document.getElementById("inputText");
      const output = document.getElementById("outputText");
      [input.value, output.value] = [output.value, input.value];
    };

    document.getElementById("translateBtn").onclick = async () => {
      const text = document.getElementById("inputText").value;
      const out = document.getElementById("outputText");
      const model = document.getElementById("modelSelect").value;
      out.value = "Translating...";

      const res = await fetch("/api/translate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text, direction, model })
      });

      const data = await res.json();
      out.value = data.result;
      document.getElementById("model-info").textContent = `Model: ${data.model}`;
    };





  document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.getElementById("theme-toggle");

  // Apply saved theme or system preference
  const storedTheme = localStorage.getItem("theme");
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const theme = storedTheme || (prefersDark ? "dark" : "light");
  document.documentElement.setAttribute("data-theme", theme);

  toggle.addEventListener("click", () => {
    const current = document.documentElement.getAttribute("data-theme");
    const next = current === "dark" ? "light" : "dark";
    document.documentElement.setAttribute("data-theme", next);
    localStorage.setItem("theme", next);
  });
});

  </script>
</body>
</html>
