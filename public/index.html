<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gen Z Translator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    
    <h1><img src="favicon.png" alt="GenZfy">Gen Z Translator</h1>
    <button id="darkToggle">🌙</button>
  </header>

  <main>
    <div class="translator-box">
      <div class="labels">
        <span id="label-left">Normal Language</span>
        <button id="switchBtn" title="Swap Languages">⇄</button>
        <span id="label-right">Gen Z</span>
      </div>

      <div class="textareas">
        <textarea id="inputText" placeholder="Enter text to translate..."></textarea>
        <textarea id="outputText" placeholder="Translation appears here..." readonly></textarea>
      </div>

      <button id="translateBtn">Translate ➜</button>
    </div>
  </main>

  <footer>
    <p>This AI-powered tool is for fun. Not always accurate — use responsibly ✌️</p>
  </footer>

  <script>
    let direction = "to_genz";

    document.getElementById("switchBtn").onclick = () => {
      direction = direction === "to_genz" ? "to_normal" : "to_genz";
      const left = document.getElementById("label-left");
      const right = document.getElementById("label-right");
      [left.textContent, right.textContent] = [right.textContent, left.textContent];

      const input = document.getElementById("inputText");
      const output = document.getElementById("outputText");
      [input.value, output.value] = [output.value, input.value];
    };

    document.getElementById("darkToggle").onclick = () => {
      document.body.classList.toggle("dark");
    };

    document.getElementById("translateBtn").onclick = async () => {
      const text = document.getElementById("inputText").value;
      const out = document.getElementById("outputText");
      out.value = "Translating...";

      const res = await fetch("/api/translate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text, direction }),
      });

      const data = await res.json();
      out.value = data.result;
    };
  </script>
</body>
</html>
